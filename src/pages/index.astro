---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import Circle from "../components/Circle.astro";
import Canvas from "../components/Canvas.astro";
import Dopper from "../components/Dopper.astro";
import Bril from "../components/Bril.astro";
---

<!doctype html>
<html lang="nl">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>

	<body>
		<Header title={SITE_TITLE} />
		<main>
			<section id="kijkgat">
				<picture>
					<img
						src="kijkgat.gif"
						alt="Description of the image"
						loading="eager"
					/>
				</picture>
			</section>

			<section id="ervaar">
				<h2>Ervaar</h2>
				<p>
					Kijkgat helpt stil te staan bij kleine mooiigheden. Het leert je
					focussen, verbeelden, een stap terug te nemen en de wereld te
					waarderen voor wat het is. Het laat je verwonderen over details,
					lijnen, patronen, sporen en kleuren. Kijkgat helpt om te zoeken, te
					kijken en te zien.
				</p>
				<Circle />

				<div class="try">
					<button id="activateCamera">Ik durf wel wat</button>
					<div id="camera-container">
						<video id="camera-view" autoplay playsinline></video>
					</div>
				</div>
			</section>

			<section id="canvas_container">
				<Canvas />
			</section>

			<section id="niet">
				<h2>Wat is het niet</h2>

				<div class="not_container">
					<div>
						<Dopper />
					</div>
					<div>
						<Bril />
					</div>
				</div>
			</section>

			<section id="contact">
				<h2>Contact</h2>
			</section>
		</main>
		<Footer />
		<script>
			// JavaScript to access the camera and stream it to the video element
			async function initCamera() {
				const button = document.getElementById("activateCamera");
				const container = document.getElementById("camera-container");

				button.style.display = "none";
				container.style.display = "block";

				try {
					const stream = await navigator.mediaDevices.getUserMedia({
						audio: false,
						video: {
							facingMode: "environment",
						},
					});
					const videoElement = document.getElementById("camera-view");

					videoElement.srcObject = stream;
				} catch (error) {
					console.error("Error accessing the camera:", error);
				}
			}

			document
				.getElementById("activateCamera")
				.addEventListener("click", initCamera);
		</script>
	</body>
</html>
